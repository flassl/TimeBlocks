TimeBlocks:

<TimeBlocks>
    MDNavigationLayout:
        ScreenManager:
            id: screen_manager
            MDScreen:
                id: planer_display_screen
                name: "planer_display"
                PlanerDisplay:
                    id: planer_display
            MDScreen:
                id: calendar_screen
                name: "calendar"
                CalendarDisplay:
                    id: calendar_display

        MDNavigationDrawer:
            id: navigation_drawer
            radius: 30, 0, 0, 30
            elevation: 4
            anchor: "right"

            NavigationDrawerContent:
                id: navigation_drawer_content

<PlanerDay>
    do_scroll_y: True
    MDBoxLayout:
        size_hint_y: None
        height: time_display.height
        MDBoxLayout:
            orientation: 'vertical'
            id: time_display
            size_hint: (0.15, None)
            md_bg_color: app.theme_cls.bg_dark
            radius: 0, 20, 20, 0
        MDFloatLayout:
            id: planer_float_layout
            size_hint: (1, None)

<PlanerDisplay>
    date_text: date_text
    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y : 0.05
            MDIconButton:
                id: next_button
                icon: "chevron-left"
                on_release: self.parent.parent.parent.show_previous()
                pos_hint: {"center_x": .5, "center_y": .5}
            MDLabel:
                id:date_text
                text_size: self.size
                halign: 'center'
                valign: 'center'
                text: 'hello'
                color: app.theme_cls.primary_dark
                width: self.width
                pos_hint: {"center_x": .5, "center_y": .5}
            MDIconButton:
                id: previous_button
                icon: "chevron-right"
                on_release: self.parent.parent.parent.show_next()
                pos_hint: {"center_x": .5, "center_y": .5}
        ScreenManager:
            id: screen_manager
            MDScreen:
                id: planer_screen_1
                name: "planer_screen_1"
                PlanerDay:
                    id: planer_day_1
            MDScreen:
                id: planer_screen_2
                name: "planer_screen_2"
                PlanerDay:
                    id: planer_day_2

    MDFloatingActionButtonSpeedDial:
        id: fab
        data: {"Task": ["text-short", "on_release", self.parent.fab_callback], "Recurrent Task": ["cached", "on_release", self.parent.fab_callback], "Event": ["calendar", "on_release", self.parent.fab_callback]}
        root_button_anim: True

    MDIconButton:
        icon: "text-short"
        pos_hint: {"center_x": .92, "center_y": .8}
        on_release: self.parent.show_task_list()

    MDIconButton:
        icon: "cached"
        pos_hint: {"center_x": .92, "center_y": .7}
        on_release: self.parent.show_recurrent_list()

    MDIconButton:
        icon: "calendar"
        pos_hint: {"center_x": .92, "center_y": .6}
        on_release: self.parent.show_calendar()

<TaskPopup>
    id: task_popup
    MDBoxLayout:
        orientation: "vertical"
        padding: 20, 0 , 20, 0
        MDTextField:
            id: task_text_input
            hint_text: "Enter the Task to add"
            multiline: False
            on_text_validate: self.parent.parent.add_task()

<NavigationDrawerContent>
    MDBoxLayout:
        orientation: "vertical"
        spacing: 10
        Label:
            id: drawer_title
        MDScrollView:
            id: drawer_scroll_view
            StackLayout:
                id: stack_layout
                size_hint_y: None
                height: self.minimum_height
                canvas:
                    Color:
                        rgba: app.theme_cls.primary_color
                    Rectangle:
                        pos: self.pos
                        size: self.size
<Task>
    size_hint_y: None
    height: 30
    elevation: 0
    on_release: self.show_menu()
    Label:
        id: content

<TaskMenu>
    size_hint_x: 0.2
    ExpandButton:
        id: expand_button
        icon: "arrow-expand-down"
        icon_size: "10sp"
        pos_hint: {"center_x": .5, "center_y": .5}

<RecurrentDialogContent>
    orientation: "vertical"
    spacing: 10
    size_hint_y: None
    height: 250
    MDTextField:
        id: text_field_name
        hint_text: "Enter the Recurrent task to add"
        multiline: False
        helper_text_mode: "on_error"
        helper_text: "Enter text"
    MDBoxLayout:
        MDLabel:
            id: recur_label
            text: "recurs every: "
        MDTextField:
            id: text_field_number
            hint_text: "amount"
            helper_text_mode: "on_error"
            helper_text: "Enter text"

    MDBoxLayout:
        adaptive_width: True
        spacing: 20
        pos_hint: {"center_x": .5, "center_y": .5}
        AppToggleButton:
            text: "Hours"
            group: "period_dropdown"
            on_release: self.parent.parent.set_selected(self)
        AppToggleButton:
            text: "Days"
            group: "period_dropdown"
            on_release: self.parent.parent.set_selected(self)
        AppToggleButton:
            text: "Weeks"
            group: "period_dropdown"
            on_release: self.parent.parent.set_selected(self)
    Widget:


<CalendarCard>
    on_release: self.go_to_planer()
    MDBoxLayout:
        orientation: "vertical"
        Label:
            id: header
            text: "demo"
        StackLayout:
            id: list

<CalendarMonth>
    md_bg_color: app.theme_cls.bg_dark
    radius: 10, 10, 0, 0
    orientation: "vertical"
    GridLayout:
        id: grid
        cols: 7
        Label:
            size_hint_y: None
            height: 20
            text: "Mo."
        Label:
            size_hint_y: None
            height: 20
            text: "Tu."
        Label:
            size_hint_y: None
            height: 20
            text: "We."
        Label:
            size_hint_y: None
            height: 20
            text: "Th."
        Label:
            size_hint_y: None
            height: 20
            text: "Fr."
        Label:
            size_hint_y: None
            height: 20
            text: "Sa."
        Label:
            size_hint_y: None
            height: 20
            text: "Su."

<CalendarDisplay>

    MDBoxLayout:
        orientation: "vertical"
        spacing: 10
        MDBoxLayout:
            size_hint: (1, 0.07)
            MDIconButton:
                id: next_button
                icon: "chevron-left"
                on_release: self.parent.parent.parent.show_previous()
                pos_hint: {"center_x": .5, "center_y": .5}
            MDLabel:
                id: header
                halign: 'center'
                valign: 'center'
                color: app.theme_cls.primary_dark
                pos_hint: {"center_x": .5, "center_y": .5}
            MDIconButton:
                id: previous_button
                icon: "chevron-right"
                on_release: self.parent.parent.parent.show_next()
                pos_hint: {"center_x": .5, "center_y": .5}



        ScreenManager:
            id: screen_manager
            MDScreen:
                id: calendar_screen_1
                name: "calendar_screen_1"
                CalendarMonth:
                    id: calendar_month_1
            MDScreen:
                id: calendar_screen_2
                name: "calendar_screen_2"
                CalendarMonth:
                    id: calendar_month_2



    MDIconButton:
        id: planer_button
        icon: "notebook-outline"
        pos_hint: {"center_x": .92, "center_y": .05}
        on_release: self.parent.back_to_planer()
